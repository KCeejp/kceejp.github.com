
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>  | blog.kcee.jp</title>

<meta name="author" content="KCeejp"> 

<meta name="description" content="UIView is layered UIView and many of its subclasses can have complecated hierarchy of views.
You know the structure of the views you created, and &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	
<meta property="og:title" content=" - blog.kcee.jp" />
<meta property="og:type" content="article" />
<meta property="og:description" content="UIView is layered UIView and many of its subclasses can have complecated hierarchy of views.
You know the structure of the views you created, and &hellip;" />



<meta property="og:image" content="http://KCeejp.github.io" />


<meta property="og:url" content="" />
<meta property="og:author" content="KCeejp" />
<meta property="og:site_name" content="blog.kcee.jp" />


	<link href="/atom.xml" rel="alternate" title="blog.kcee.jp" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css" media="screen" />
<script type="text/javascript" src="/fancybox/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>
	

</head>



<body>
	<header id="header" class="inner"><h1><a href="/">blog.kcee.jp</a></h1>
<h4></h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:KCeejp.github.io">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/06/22/understanding-view-hierarchy-with-recursivedescription/">
		
			Understanding View Hierarchy With Recursivedescription</a>
	</h2>
	<div class="entry-content">
		<h1>UIView is layered</h1>

<p>UIView and many of its subclasses can have complecated hierarchy of views.
You know the structure of the views you created, and you might think this technique is not useful for you.</p>

<h1>Print out everything</h1>

<figure class='code'><figcaption><span>show every subview&#8217;s description using recursiveDescription</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">view</span> <span class="n">recursiveDescription</span><span class="p">]);</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-06-22T11:34:00+09:00" pubdate data-updated="true">Jun 22<span>nd</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/objective-c/'>Objective-C</a>, <a class='category' href='/blog/categories/uiview/'>UIView</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/06/22/vim-keybindings-in-xcode-using-xvim/">
		
			Vim Keybindings in Xcode Using XVim</a>
	</h2>
	<div class="entry-content">
		<p>Source: <a href="https://github.com/JugglerShu/XVim">https://github.com/JugglerShu/XVim</a></p>

<p>Source: <a href="http://programming.jugglershu.net/softwares/xvim.html">http://programming.jugglershu.net/softwares/xvim.html</a></p>

<p>Source: <a href="http://viciousapp.com/">http://viciousapp.com/</a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-06-22T10:16:00+09:00" pubdate data-updated="true">Jun 22<span>nd</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/vim/'>Vim</a>, <a class='category' href='/blog/categories/xcode/'>Xcode</a>


</div>
	
</div></article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/06/22/taking-screenshots-in-ios/">
		
			Taking Screenshots in iOS</a>
	</h2>
	<div class="entry-content">
		<h1>Taking screenshot</h1>

<figure class='code'><figcaption><span>screenshot methods</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="n">UIImage</span> <span class="o">*</span><span class="p">)</span><span class="nf">screenshot</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// Create a graphics context with the target size</span>
</span><span class='line'>    <span class="c1">// On iOS 4 and later, use UIGraphicsBeginImageContextWithOptions to take the scale into consideration</span>
</span><span class='line'>    <span class="c1">// On iOS prior to 4, fall back to use UIGraphicsBeginImageContext</span>
</span><span class='line'>    <span class="n">CGSize</span> <span class="n">imageSize</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIScreen</span> <span class="n">mainScreen</span><span class="p">]</span> <span class="n">bounds</span><span class="p">].</span><span class="n">size</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nb">NULL</span> <span class="o">!=</span> <span class="n">UIGraphicsBeginImageContextWithOptions</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">UIGraphicsBeginImageContextWithOptions</span><span class="p">(</span><span class="n">imageSize</span><span class="p">,</span> <span class="n">NO</span><span class="p">,</span> <span class="p">[</span><span class="n">UIScreen</span> <span class="n">mainScreen</span><span class="p">].</span><span class="n">scale</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">UIGraphicsBeginImageContext</span><span class="p">(</span><span class="n">imageSize</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">CGContextRef</span> <span class="n">context</span> <span class="o">=</span> <span class="n">UIGraphicsGetCurrentContext</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Iterate over every window from back to front</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="n">UIWindow</span> <span class="o">*</span><span class="n">window</span> <span class="k">in</span> <span class="p">[[</span><span class="n">UIApplication</span> <span class="n">sharedApplication</span><span class="p">]</span> <span class="n">windows</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">[</span><span class="n">window</span> <span class="nl">respondsToSelector:</span><span class="k">@selector</span><span class="p">(</span><span class="n">screen</span><span class="p">)]</span> <span class="o">||</span> <span class="p">[</span><span class="n">window</span> <span class="n">screen</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="n">UIScreen</span> <span class="n">mainScreen</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>            <span class="c1">// -renderInContext: renders in the coordinate space of the layer,</span>
</span><span class='line'>            <span class="c1">// so we must first apply the layer&#39;s geometry to the graphics context</span>
</span><span class='line'>            <span class="n">CGContextSaveGState</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
</span><span class='line'>            <span class="c1">// Center the context around the window&#39;s anchor point</span>
</span><span class='line'>            <span class="n">CGContextTranslateCTM</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="p">[</span><span class="n">window</span> <span class="n">center</span><span class="p">].</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="n">window</span> <span class="n">center</span><span class="p">].</span><span class="n">y</span><span class="p">);</span>
</span><span class='line'>            <span class="c1">// Apply the window&#39;s transform about the anchor point</span>
</span><span class='line'>            <span class="n">CGContextConcatCTM</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="p">[</span><span class="n">window</span> <span class="n">transform</span><span class="p">]);</span>
</span><span class='line'>            <span class="c1">// Offset by the portion of the bounds left of and above the anchor point</span>
</span><span class='line'>            <span class="n">CGContextTranslateCTM</span><span class="p">(</span><span class="n">context</span><span class="p">,</span>
</span><span class='line'>                                  <span class="o">-</span><span class="p">[</span><span class="n">window</span> <span class="n">bounds</span><span class="p">].</span><span class="n">size</span><span class="p">.</span><span class="n">width</span> <span class="o">*</span> <span class="p">[[</span><span class="n">window</span> <span class="n">layer</span><span class="p">]</span> <span class="n">anchorPoint</span><span class="p">].</span><span class="n">x</span><span class="p">,</span>
</span><span class='line'>                                  <span class="o">-</span><span class="p">[</span><span class="n">window</span> <span class="n">bounds</span><span class="p">].</span><span class="n">size</span><span class="p">.</span><span class="n">height</span> <span class="o">*</span> <span class="p">[[</span><span class="n">window</span> <span class="n">layer</span><span class="p">]</span> <span class="n">anchorPoint</span><span class="p">].</span><span class="n">y</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// Render the layer hierarchy to the current context</span>
</span><span class='line'>            <span class="p">[[</span><span class="n">window</span> <span class="n">layer</span><span class="p">]</span> <span class="nl">renderInContext:</span><span class="n">context</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>            <span class="c1">// Restore the context</span>
</span><span class='line'>            <span class="n">CGContextRestoreGState</span><span class="p">(</span><span class="n">context</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Retrieve the screenshot image</span>
</span><span class='line'>    <span class="n">UIImage</span> <span class="o">*</span><span class="n">image</span> <span class="o">=</span> <span class="n">UIGraphicsGetImageFromCurrentImageContext</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">UIGraphicsEndImageContext</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="n">image</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>





		
		<a href="/blog/2013/06/22/taking-screenshots-in-ios/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-06-22T09:37:00+09:00" pubdate data-updated="true">Jun 22<span>nd</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/objective-c/'>Objective-C</a>, <a class='category' href='/blog/categories/uiimage/'>UIImage</a>


</div>
	
</div></article>

<nav id="pagenavi">
    
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    KCeejp

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->




	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-41947725-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
